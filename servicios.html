<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tecnoü•≠Rivas | Servicios</title>

<!-- ICONOS -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.css">

<!-- ESTILOS -->
<link rel="stylesheet" href="css/style.css">

<style>
.form-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.6);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 9999;
}

.form-box {
    background: white;
    width: 90%;
    max-width: 450px;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.3);
}

.form-box h2 {
    text-align: center;
    margin-bottom: 15px;
}

.form-box p.info {
    font-size: 14px;
    color: #555;
    margin-top: 5px;
    margin-bottom: 10px;
}

.form-box input, .form-box select, .form-box textarea {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
}

.btn-send {
    margin-top: 15px;
    width: 100%;
    padding: 12px;
    background: #25d366;
    color: #fff;
    border: none;
    border-radius: 10px;
    font-size: 18px;
    cursor: pointer;
}

.btn-close {
    margin-top: 10px;
    width: 100%;
    padding: 10px;
    background: #ff4b4b;
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
}
</style>
</head>
<body>

<header>
    <div class="container-header">
        <h1 class="logo">Tecnoü•≠Rivas</h1>
        <nav id="navbar">
            <a href="index.html"><i class="fa-solid fa-house"></i> Inicio</a>
            <a href="productos.html"><i class="fa-solid fa-box-open"></i> Productos</a>
            <a href="servicios.html"><i class="fa-solid fa-print"></i> Servicios</a>
            <a href="carrito.html"><i class="fa-solid fa-cart-shopping"></i> Carrito</a>
            <a href="contacto.html"><i class="fa-solid fa-envelope"></i> Contacto</a>
        </nav>
        <div class="menu-toggle" id="mobile-menu">MENU 
            <i class="fa-solid fa-bars"></i>
        </div>
    </div>
</header>

<div class="banner-container">
    <img class="banner-slide fade" src="img/banner1.jpg" alt="">
    <img class="banner-slide fade" src="img/banner2.jpg" alt="">
    <img class="banner-slide fade" src="img/banner3.jpg" alt="">
    <img class="banner-slide fade" src="img/banner4.jpg" alt="">
    <img class="banner-slide fade" src="img/banner5.jpg" alt="">
</div>

<section class="intro">
    <h1>Servicios que ofrecemos</h1>
    <p>
        En Tecnoü•≠Rivas te brindamos soluciones r√°pidas, modernas y profesionales en impresiones,
        copias, digitaci√≥n, dise√±o, y m√°s.
    </p>
</section>

<section class="promos">
<div class="promo-item">
    <img src="img/servicio_impresion.jpg" alt="Impresiones">
    <h3><i class="fa-solid fa-print"></i> Impresiones y Copias</h3>
    <p>Impresiones a color y blanco y negro, copias n√≠tidas, documentos, trabajos, tareas y m√°s.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_digitalizacion.jpg" alt="Digitalizaci√≥n">
    <h3><i class="fa-solid fa-file-arrow-up"></i> Escaneo y Digitalizaci√≥n</h3>
    <p>Digitalizamos documentos, fotos y archivos importantes con la mejor calidad.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_diseno.jpg" alt="Dise√±o">
    <h3><i class="fa-solid fa-pen-nib"></i> Dise√±o y Edici√≥n</h3>
    <p>Hacemos tarjetas, posters, curr√≠culums, logos y edici√≥n b√°sica de im√°genes.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_encuadernado.jpg" alt="Encuadernado">
    <h3><i class="fa-solid fa-book"></i> Encolochado</h3>
    <p>Encuadernado de tareas, trabajos universitarios, tesis y documentos.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_fotocopias.jpg" alt="Fotocopias">
    <h3><i class="fa-solid fa-copy"></i> Fotocopias</h3>
    <p>Copias r√°pidas y de calidad para documentos de cualquier tipo.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_fotos.jpg" alt="Fotos">
    <h3><i class="fa-solid fa-camera"></i> Fotos Tama√±o Carnet o Pasaporte</h3>
    <p>Tomamos fotograf√≠as para carnet o pasaporte con calidad profesional y entrega inmediata.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_seguros.jpg" alt="Seguro">
    <h3><i class="fa-solid fa-car-side"></i> Seguros de Veh√≠culos</h3>
    <p>Tu tranquilidad es nuestra prioridad. M√°s que un seguro, es un compromiso.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_pos.jpg" alt="POS">
    <h3><i class="fa-solid fa-credit-card"></i> Agente Banpro</h3>
    <p>Pagos con tarjeta de d√©bito y cr√©dito de forma segura y r√°pida.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_policia.jpg" alt="Pagos Policiales">
    <h3><i class="fa-solid fa-shield-halved"></i> Tramites en linea Policiales</h3>
    <p>Pago de multas, r√©cord policial y tr√°mites relacionados.</p>
</div>

<div class="promo-item">
    <img src="img/servicio_rapibac.jpg" alt="RAPIBAC">
    <h3><i class="fa-solid fa-building-columns"></i> RAPIBAC</h3>
    <p>Pago de servicios b√°sicos y financieros afiliados a RAPIBAC.</p>
</div>

<div id="formularios"></div>
</section>

<footer>
<div class="footer-container">
    <p>&copy; 2025 Tecnoü•≠Rivas</p>
    <div class="redes">
        <a href="https://www.facebook.com/p/Tecno-Rivas-100040930213703/?locale=es_LA" target="_blank">
            <i class="fab fa-facebook-f"></i> Facebook
        </a>
        <a href="https://www.instagram.com/tecnorivas2025/" target="_blank">
            <i class="fab fa-instagram"></i> Instagram
        </a>
        <a href="https://wa.me/50557733013" target="_blank">
            <i class="fab fa-whatsapp"></i> WhatsApp
        </a>
    </div>
</div>
</footer>

<script>
// ================= BANNER =================
let slideIndex = 0;
const slides = document.getElementsByClassName("banner-slide");
function showSlides() {
    for (let i = 0; i < slides.length; i++) slides[i].style.opacity = 0;
    slideIndex++;
    if (slideIndex > slides.length) slideIndex = 1;
    slides[slideIndex - 1].style.opacity = 1;
    setTimeout(showSlides, 4000);
}
showSlides();

// ================= FORMULARIOS =================
const formularios = {
"Impresiones y Copias": `
<input data-campo="nombre" placeholder="Su nombre">
<input data-campo="cantidad" type="number" placeholder="Cantidad">
<textarea data-campo="nota" placeholder="Detalles del trabajo..."></textarea>
<p class="info">Adjunte en WhatsApp el archivo a imprimir.</p>
`,
"Escaneo y Digitalizaci√≥n": `
<input data-campo="nombre" placeholder="Su nombre">
<select data-campo="cantidad">
<option value="">Cantidad de documentos</option>
<option>1-5</option>
<option>6-20</option>
<option>M√°s de 20</option>
</select>
<textarea data-campo="nota" placeholder="Nota adicional..."></textarea>
<p class="info">Adjunte en WhatsApp el archivo a escanear.</p>
`,
"Dise√±o y Edici√≥n": `
<input data-campo="nombre" placeholder="Su nombre">
<select data-campo="tipo">
<option value="">Tipo de dise√±o</option>
<option>Logo</option>
<option>Curr√≠culum</option>
<option>Tarjeta</option>
<option>Poster</option>
</select>
<textarea data-campo="nota" placeholder="Detalles del dise√±o..."></textarea>
`,
"Encolochado": `
<input data-campo="nombre" placeholder="Su nombre">
<select data-campo="tipo">
<option value="">Tipo de encuadernado</option>
<option>Espiral</option>
<option>T√©rmico</option>
</select>
<input data-campo="cantidad" type="number" placeholder="Cantidad de hojas">
<textarea data-campo="nota" placeholder="Nota adicional..."></textarea>
`,
"Fotocopias": `
<input data-campo="nombre" placeholder="Su nombre">
<input data-campo="cantidad" type="number" placeholder="Cantidad de copias">
<textarea data-campo="nota" placeholder="Nota adicional..."></textarea>
`,
"Fotos Tama√±o Carnet o Pasaporte": `
<input data-campo="nombre" placeholder="Su nombre">
<select data-campo="tipo">
<option value="">Tipo de foto</option>
<option>Carnet</option>
<option>Pasaporte</option>
</select>
<input data-campo="cantidad" type="number" placeholder="Cantidad">
<textarea data-campo="nota" placeholder="Nota adicional..."></textarea>
<p class="info">Las fotos son tomadas en la tienda.</p>
`,
"Seguros de Veh√≠culos": `
<input data-campo="nombre" placeholder="Su nombre">
<select data-campo="seguro">
<option value="">Tipo de seguro</option>
<option>Cobertura total</option>
<option>Da√±os a terceros</option>
<option>Renovaci√≥n</option>
</select>
<input data-campo="placa" placeholder="Placa del veh√≠culo">
<input data-campo="anio" type="number" placeholder="A√±o del veh√≠culo">
<textarea data-campo="nota" placeholder="Nota adicional..."></textarea>
`,
"Agente Banpro": `
<input data-campo="nombre" placeholder="Su nombre">
<select data-campo="banpro_servicio">
<option value="">Seleccione servicio Banpro</option>
<option>Billetera M√≥vil</option>
<option>Consulta de saldo</option>
<option>Retiro de efectivo</option>
<option>Dep√≥sitos</option>
<option>Pago de tarjeta de cr√©dito</option>
<option>Pago de pr√©stamos</option>
<option>Pago de servicios b√°sicos</option>
<option>Pago de impuestos</option>
<option>Remesas internacionales</option>
<option>Compra de tiempo aire</option>
<option>Pago de reposici√≥n de c√©dula</option>
<option>Certificados y tr√°mites</option>
</select>
<input data-campo="monto" type="number" placeholder="Monto" style="display:none">
<select data-campo="servicio_basico" style="display:none">
<option value="">Seleccione servicio b√°sico</option>
<option>Agua</option>
<option>Luz</option>
<option>Internet</option>
<option>Cable</option>
</select>
<textarea data-campo="nota" placeholder="Detalle adicional..."></textarea>
<p class="info">Estos servicios son realizados presencialmente en tienda.</p>
`,
"RAPIBAC": `
<input data-campo="nombre" placeholder="Su nombre">
<select data-campo="rapibac_servicio">
<option value="">Servicio Rapibac</option>
<option>Retiro de efectivo</option>
<option>Dep√≥sito en cuenta</option>
<option>Pago de tarjeta de cr√©dito</option>
<option>Pago de servicios p√∫blicos</option>
<option>Pago de pr√©stamos</option>
<option>Consulta de saldos</option>
<option>Recarga de celular</option>
</select>
<input data-campo="referencia" placeholder="N√∫mero de referencia / cuenta" style="display:none">
<input data-campo="monto" type="number" placeholder="Monto a pagar / retirar" style="display:none">
<textarea data-campo="nota" placeholder="Detalles adicionales..."></textarea>
<p class="info">Servicio presencial, conserva tu comprobante.</p>
`,
"Tramites en linea Policiales": `
<input data-campo="nombre" placeholder="Su nombre completo">
<input data-campo="celular" placeholder="N√∫mero de celular">
<input data-campo="correo" placeholder="Correo electr√≥nico">
<select data-campo="tipo_tramite">
<option value="">Seleccione tr√°mite en l√≠nea</option>
<option value="record">R√©cord policial / Certificado de Conducta</option>
<option value="multa">Pago de multas de tr√°nsito</option>
<option value="licencia_renovacion">Licencia - renovaci√≥n</option>
<option value="licencia_reposicion">Licencia - reposici√≥n</option>
<option value="certificado_vehiculo">Certificado de veh√≠culo</option>
<option value="placas">Reposici√≥n de placas</option>
<option value="recurso">Presentar recurso</option>
</select>
<input data-campo="cedula" placeholder="N√∫mero de c√©dula" style="display:none">
<input data-campo="placa" placeholder="Placa del veh√≠culo" style="display:none">
<input data-campo="monto" type="number" placeholder="Monto a pagar" style="display:none">
<textarea data-campo="nota" placeholder="Detalle adicional..."></textarea>
<p class="info">Todos los pagos se realizan en Tienda.</p>
`
};

// ================= OVERLAY =================
const contenedor = document.getElementById("formularios");
contenedor.innerHTML = `
<div id="overlay" class="form-overlay">
  <div class="form-box">
    <h2 id="titulo-form"></h2>
    <div id="campos"></div>
    <button class="btn-send" id="enviar">Enviar Solicitud</button>
    <button class="btn-close" onclick="cerrarFormulario()">Cerrar</button>
  </div>
</div>`;
const overlay = document.getElementById("overlay");

function abrirFormulario(servicio){
    document.getElementById("titulo-form").innerText = servicio;
    document.getElementById("campos").innerHTML = formularios[servicio];
    overlay.style.display = "flex";
    document.getElementById("enviar").onclick = ()=>validarFormulario(servicio);
}
function cerrarFormulario(){ overlay.style.display="none"; }

// ================= EVENTOS DIN√ÅMICOS =================
document.addEventListener("change", e=>{
    const c = e.target;
    const cont = document.getElementById("campos");

    // Tramites policiales
    if(c.dataset.campo==="tipo_tramite"){
        cont.querySelectorAll('[data-campo="cedula"],[data-campo="placa"],[data-campo="monto"]').forEach(x=>x.style.display="none");
        if(c.value==="record") cont.querySelector('[data-campo="cedula"]').style.display="block";
        if(c.value==="multa"){
            cont.querySelector('[data-campo="cedula"]').style.display="block";
            cont.querySelector('[data-campo="placa"]').style.display="block";
            cont.querySelector('[data-campo="monto"]').style.display="block";
        }
        if(c.value==="licencia_renovacion"||c.value==="licencia_reposicion")
            cont.querySelector('[data-campo="cedula"]').style.display="block";
        if(c.value==="certificado_vehiculo"||c.value==="placas"||c.value==="recurso"){
            cont.querySelector('[data-campo="cedula"]').style.display="block";
            cont.querySelector('[data-campo="placa"]').style.display="block";
        }
    }

    // Banpro
    if(c.dataset.campo==="banpro_servicio"){
        const m = cont.querySelector('[data-campo="monto"]');
        const sb = cont.querySelector('[data-campo="servicio_basico"]');
        if(c.value==="Pago de servicios b√°sicos"){
            m.style.display = "block";
            sb.style.display = "block";
        } else if(c.value==="Consulta de saldo"){
            m.style.display = "none";
            if(sb) sb.style.display = "none";
        } else {
            m.style.display = c.value ? "block":"none";
            if(sb) sb.style.display = "none";
        }
    }

    // RAPIBAC
    if(c.dataset.campo==="rapibac_servicio"){
        const referencia = cont.querySelector('[data-campo="referencia"]');
        const monto = cont.querySelector('[data-campo="monto"]');
        referencia.style.display="block";
        if(["Retiro de efectivo","Dep√≥sito en cuenta","Pago de tarjeta de cr√©dito","Pago de servicios p√∫blicos","Pago de pr√©stamos","Recarga de celular"].includes(c.value)){
            monto.style.display = "block";
        } else {
            monto.style.display = "none";
        }
    }
});

// ================= ENV√çO =================
function validarFormulario(servicio){
    const campos = document.querySelectorAll('#campos [data-campo]');
    for(let c of campos){
        if(c.style.display!=="none" && c.value.trim()===""){
            alert("Por favor complete todos los campos");
            return;
        }
    }
    enviarWhatsApp(servicio);
}
// ================= ENV√çO =================
function enviarWhatsApp(servicio){
    const campos = document.querySelectorAll('#campos [data-campo]');
    let mensaje = `üõ† *Solicitud de servicio: ${servicio}*%0A`;
    let datos = {};

    // Guardar todos los valores visibles
    campos.forEach(c=>{
        datos[c.dataset.campo] = c.value || ""; // guardar siempre
        if(c.style.display !== "none"){
            mensaje += `%0A‚Ä¢ *${c.placeholder}:* ${c.value || "-"}`;
        }
    });

    // Construir "detalles" combinando todos los campos excepto nombre y nota
    let detalles = "";
    campos.forEach(c=>{
        if(c.dataset.campo !== "nombre" && c.dataset.campo !== "nota" && c.value){
            detalles += (detalles ? ", " : "") + `${c.dataset.campo}: ${c.value}`;
        }
    });

    // Datos que enviar√° Apps Script
    const payload = {
        servicio: servicio,
        nombre: datos.nombre || "",
        detalles: detalles || "-",
        nota: datos.nota || "-"
    };

    // Enviar al Apps Script
    fetch("https://script.google.com/macros/s/AKfycbxHgG51TDptJQJ_xrBYMarfArc6ogbSYMBuMC-OnQLJLZ2ka0sEEQ_F0Yg_pkkkgBPOQA/exec",{
        method:"POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
    }).then(res=>res.json())
      .then(res=>console.log("Enviado a Sheets:", res))
      .catch(err=>console.error("Error al enviar:", err));

    cerrarFormulario();
    window.location.href = `https://wa.me/50557733013?text=${mensaje}`;
}

// ================= CLICK =================
document.querySelectorAll(".promo-item").forEach(i=>{
    i.onclick = ()=>abrirFormulario(i.querySelector("h3").textContent.trim());
});
</script>
</body>
</html>
